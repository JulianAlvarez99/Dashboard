{# ── Multiselect Filter ── #}
<div x-data="{ open: false }" class="filter-item filter-multiselect">
    <label class="filter-label">{{ filter.filter_name }}</label>
    <div class="relative">
        <button @click="open = !open" type="button" class="filter-multiselect-button">
            <span x-text="filterValues.{{ filter.param_name }}.length
                         ? filterValues.{{ filter.param_name }}.length + ' seleccionados'
                         : '{{ filter.placeholder or 'Seleccionar...' }}'"></span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>
        <div x-show="open" @click.outside="open = false" x-cloak
             class="filter-multiselect-dropdown">
            <template x-for="opt in options.{{ filter.options_source }}" :key="opt.value">
                <label class="filter-multiselect-option">
                    <input type="checkbox" :value="opt.value"
                           x-model="filterValues.{{ filter.param_name }}"
                           class="filter-multiselect-checkbox">
                    <span class="filter-multiselect-label" x-text="opt.label"></span>
                </label>
            </template>
        </div>
    </div>
</div>
